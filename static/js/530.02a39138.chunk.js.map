{"version":3,"file":"static/js/530.02a39138.chunk.js","mappings":"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","sources":["components/BackLink/backLink.jsx","components/MovieItem/movieItem.jsx","components/Movie/movie.jsx","utils/searchDataMovie.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/nanoid/index.browser.js"],"sourcesContent":["import { Link } from \"react-router-dom\"\nimport styled from 'styled-components';\n\nconst StyledLink = styled(Link)`\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  padding: 8px 0;\n  color: black;\n  text-decoration: none;\n  font-weight: 500;\n  text-transform: uppercase;\n\n  :hover {\n    color: lightgreen;\n  }\n`;\n\nexport const BackLink = ({to, children}) => {\n    return (<StyledLink to={to}>{children}</StyledLink>);\n}","import { nanoid } from 'nanoid';\n\nconst MovieItem = ({ movie }) => {\n  const { original_title, genres, poster_path, vote_average, overview } = movie;\n  const poster = poster_path\n    ? `https://image.tmdb.org/t/p/w300/${poster_path}`\n    : '';\n  return (\n    <div style={{ display: 'Flex' }}>\n      <div>\n        <img src={poster}  alt=\"NO poster\" />\n      </div>\n      <div style={{ display: 'block', marginLeft: '20px' }}>\n        <h2 style={{marginTop: '0'}}>{original_title}</h2>\n        <ul>\n          <li>Average: {vote_average}</li>\n          <li>Overview: {overview}</li>\n          {genres.length ? (\n            <li>\n              {genres\n                .map(ganre => (\n                  <p key={nanoid()} style={{ display: 'inline' }}>\n                    {ganre.name}\n                  </p>\n                ))\n                .reduce((prev, curr) => [prev, ', ', curr])}\n            </li>\n          ) : (\n            ''\n          )}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default MovieItem;\n","import { useEffect, useState } from \"react\";\nimport { Link, Outlet, useParams, useLocation } from 'react-router-dom';\nimport { getMovieById } from \"utils/searchDataMovie\";\nimport { BackLink } from \"components/BackLink/backLink\";\nimport { nanoid } from 'nanoid';\nimport MovieItem from \"../MovieItem/movieItem\";\nimport { useRef } from \"react\";\n\nconst Movie = () => {\n  const [movie, setMovie] = useState(null);\n  const { id } = useParams();\n  const location = useLocation()\n  const backLinkHref = location.state?.from ?? '/movies';\n  const backLinkHrefRef = useRef(backLinkHref);\n\n  useEffect(() => {\n    const getMovie = async () => await getMovieById(id)\n      .then(res => setMovie(res))\n    \n      getMovie()       \n  }, [id]);\n\n  return (\n    <div>\n      <BackLink to={backLinkHrefRef.current}>{`<-`} Back to movies</BackLink>\n      <div> {movie ? <MovieItem movie={movie} /> : ''}</div>\n      <div>\n        <div>\n          <h4>Additional Information</h4>\n          <ul>\n            <li key={nanoid()}>\n              <Link to={'cast'} >\n                Cast\n              </Link>\n            </li>\n            <li key={nanoid()}>\n              <Link to={'reviews'} >\n                Reviews\n              </Link>\n            </li>\n          </ul>\n        </div>\n        <Outlet />\n      </div>\n    </div>\n  );\n  }\n\nexport default Movie;","\n\n  const API_KEY = 'bed58f4c3dbb6f0a7987e1858ff87c95';\n  const BASE_URL = 'https://api.themoviedb.org/3';\n  const TREND_URL = `${BASE_URL}/trending/all/day`;\n  const SEARCH_URL = `${BASE_URL}/search/movie`;\nconst ID_URL = `${BASE_URL}/movie`;\n  \n\n  const options = {\n    method: 'GET',\n    headers: {\n      accept: 'application/json',\n      Authorization:\n        'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiZWQ1OGY0YzNkYmI2ZjBhNzk4N2UxODU4ZmY4N2M5NSIsInN1YiI6IjY0NmQwNWJhZDE4NTcyMDE4MDJlOGYyOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.4jCqRdZ9sRAbpi5bh6szcuiE2wlzfaZQtIR0L9NKky0',\n    },\n  };\n\n  export async function trendMovies(page = 1) {\n    return await fetch(TREND_URL, options)\n      .then(response => {\n        return response.json();\n      })\n      .catch(error => console.log(error));\n  }\n  \nexport async function getMovieById(id) {\n  try {\n    const data = await fetch(\n      `${ID_URL}/${id}?api_key=${API_KEY}&language=en-US`,\n      options\n    )\n      .then(response => {\n        if (response.ok) {\n          return response.json();\n        };\n        throw new Error()\n      })\n    return data\n  } catch (error) {\n    alert('Тут зовсім порожньо');\n  }\n}\n\n\nexport  async function FetchAPI(query, page=1) {\n  try {\n   return await fetch(\n     `${SEARCH_URL}?api_key=${API_KEY}&language=en-US&query=${query}&page=${page}`,\n     options\n    ).then(res=> res.json());\n } catch (error) {\n   console.error('Smth wrong with api search fetch' + error);\n }\n}\n    \nexport async function getMovieCredits(id) {\n  try {\n    const data = await fetch(\n      `${ID_URL}/${id}/credits?api_key=${API_KEY}&language=en-US`,\n      options\n    ).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      throw new Error();\n    });\n    return data;\n  } catch (error) {\n    alert('Тут зовсім порожньо');\n  }\n}\n \nexport async function getMovieReviews(id) {\n  try {\n    const data = await fetch(\n      `${ID_URL}/${id}/reviews?api_key=${API_KEY}&language=en-US`,\n      options\n    ).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n      throw new Error();\n    });\n    return data;\n  } catch (error) {\n    alert('Тут зовсім порожньо');\n  }\n}\n  // return Promise.reject(new Error(`За запитом ${query} нічого не знайдено`));","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n"],"names":["StyledLink","styled","Link","BackLink","to","children","movie","original_title","genres","poster_path","vote_average","overview","poster","style","display","src","alt","marginLeft","marginTop","length","map","ganre","name","nanoid","reduce","prev","curr","useState","setMovie","id","useParams","backLinkHref","useLocation","state","from","backLinkHrefRef","useRef","useEffect","getMovie","getMovieById","then","res","current","API_KEY","BASE_URL","TREND_URL","SEARCH_URL","ID_URL","options","method","headers","accept","Authorization","trendMovies","fetch","response","json","catch","error","console","log","ok","Error","data","alert","FetchAPI","query","page","getMovieCredits","getMovieReviews","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","size","crypto","getRandomValues","Uint8Array","byte","toString","toUpperCase"],"sourceRoot":""}